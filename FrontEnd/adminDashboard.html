<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Easy Car Rental Service / Admin</title>
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">
  <script src="https://kit.fontawesome.com/97dbc65e21.js" crossorigin="anonymous"></script>

  <style>
    *{
      scroll-behavior: smooth;
      transition: all 1s;
    }

    #dashboardPage{
      display: block;
    }

    #carPage{
      display: none;
    }

    #driverPage{
      display: none;
    }

    #customerPage{
      display: none;
    }


  </style>

</head>
<body>
<!--navBar-->
<nav class="navbar shadow-sm navbar-expand-lg navbar-light bg-warning">
  <div class="container">
    <a class="navbar-brand" href="#"><img src="assets/images/LogoBlack.png" width="200" alt=""></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" id="dashboardNav" href="#">Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="carsNav" href="#">Cars</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="customersNav">Customers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="driversNav">Drivers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Income</a>
        </li>
      </ul>
      <span class="navbar-text">
                <i class="fa-solid fa-user"></i>
                Administrator
            </span>
    </div>
  </div>
</nav>

<!--Dashboard-->
<div id="dashboardPage">
<div class="container">
<div class="mt-md-4 mb-md-4">
  <h1>Dashboard</h1>
<div class="row">
  <div class="col-md-3">
    <div class="card shadow text-dark bg-warning mb-3">
      <div class="card-body">
        <h5 class="card-title">Cars</h5>
        <h1 class="display-4"><strong>30</strong></h1>
        <i class="fa-solid fa-car  display-4 d-flex justify-content-end"></i>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card shadow text-dark bg-warning mb-3">
      <div class="card-body">
        <h5 class="card-title">Customers</h5>
        <h1 class="display-4"><strong>18</strong></h1>
        <i class="fa-solid fa-user  display-4 d-flex justify-content-end"></i>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card shadow text-dark bg-warning mb-3">
      <div class="card-body">
        <h5 class="card-title">Drivers</h5>
        <h1 class="display-4"><strong>15</strong></h1>
        <i class="fa-solid fa-person  display-4 d-flex justify-content-end"></i>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card shadow text-dark bg-warning mb-3">
      <div class="card-body">
        <h5 class="card-title">Bookings</h5>
        <h1 class="display-4"><strong>03</strong></h1>
        <i class="fa-solid fa-plus  display-4 d-flex justify-content-end"></i>
      </div>
    </div>
  </div>
</div>
  </div>

<!--  booking table-->
  <div>
    <table class="table shadow">
      <thead class="thead-dark">
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Customer</th>
        <th scope="col">Start Date</th>
        <th scope="col">End Date</th>
        <th scope="col">Total</th>
        <th scope="col">Option</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <th scope="row">BK001</th>
        <td>Saman</td>
        <td>2023-02-15</td>
        <td>2023-03-15</td>
        <td>34000</td>
        <td><button class="btn-sm btn-danger mr-1">Cancel</button><button class="btn-sm btn-success">Approve</button></td>
      </tr>
      <tr>
        <th scope="row">BK002</th>
        <td>Kamal</td>
        <td>2023-02-16</td>
        <td>2023-03-15</td>
        <td>34000</td>
        <td><button class="btn-sm btn-danger mr-1">Cancel</button><button class="btn-sm btn-success">Approve</button></td>
      </tr>
      <tr>
        <th scope="row">BK003</th>
        <td>Yomal</td>
        <td>2023-02-17</td>
        <td>2023-03-15</td>
        <td>34000</td>
        <td><button class="btn-sm btn-danger mr-1">Cancel</button><button class="btn-sm btn-success">Approve</button></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</div>

<!--Car Management-->
<div id="carPage">
<div class="container">
<div class="mt-md-4 mb-md-4">
  <h1>Cars</h1>
  <div class="row">
    <div class="col">
      <form id="formCar">
        <div class="row mt-4">
          <div class="col">
            <label for="txtCar_reg">Reg Number</label>
            <input type="text" class="form-control" id="txtCar_reg" name="txtCar_reg" placeholder="ABC-1234">
          </div>
          <div class="col">
            <label for="txtCar_make">Make</label>
            <input type="text" class="form-control" id="txtCar_make" placeholder="Toyota, Suzuki, Honda">
          </div>
          <div class="col">
            <label for="txtCar_model">Model</label>
            <input type="text" class="form-control" id="txtCar_model" placeholder="Vitz, Lancer">
          </div>
        </div>
        <div class="row mt-4">
          <div class="col">
            <label for="txtCar_fuel">Fuel Type</label>
            <select class="form-control" id="txtCar_fuel" name="txtCar_fuel">
              <option>Petrol</option>
              <option>Diesel</option>
              <option>Hybrid</option>
              <option>Electric</option>
            </select>
          </div>
          <div class="col">
            <label for="txtCar_type">Category</label>
            <select class="form-control" id="txtCar_type" name="txtCar_type">
              <option>Genaral</option>
              <option>Premium</option>
              <option>Luxury</option>
            </select>
          </div>
        </div>
        <div class="form-group row mt-4">
          <div class="col">
            <label for="txtCar_day">Price per Day</label>
            <input type="text" class="form-control" id="txtCar_day" name="txtCar_day" placeholder="Rs:">
          </div>
          <div class="col">
            <label for="txtCar_month">Month</label>
            <input type="text" class="form-control" id="txtCar_month" name="txtCar_month" placeholder="Rs:">
          </div>
          <div class="col">
            <label for="txtCar_km">Extra Km</label>
            <input type="text" class="form-control" id="txtCar_km" name="txtCar_km" placeholder="Rs:">
          </div>
        </div>
        <div class="form-group row mt-4">
          <div class="col">
            <label for="txtCar_rangeDay">Range per Day</label>
            <input type="text" class="form-control" id="txtCar_rangeDay" name="txtCar_rangeDay" placeholder="Km:">
          </div>
          <div class="col">
            <label for="txtCar_rangeMonth">Range per Month</label>
            <input type="text" class="form-control" id="txtCar_rangeMonth" name="txtCar_rangeMonth" placeholder="Km:">
          </div>
        </div>
        <div class="form-group row mt-4">
          <div class="col">
            <label for="imgCar">Car Image</label>
            <input type="file" class="form-control-file" id="imgCar" name="imgCar">
          </div>
          <div class="col-3 btn-group">
            <button class="btn btn-success" type="button" id="btnSaveCar">Save</button>
            <button class="btn btn-warning" type="button" id="btnUpdateCar">Update</button>
            <button class="btn btn-danger" type="button" id="btnDeleteCar">Delete</button>
          </div>
        </div>
      </form>

    </div>
  </div>


  <div class="row">
    <!--  Car table-->
    <div class="col">
      <table class="table shadow">
        <thead class="thead-dark">
        <tr>
          <th scope="col">RegNo</th>
          <th scope="col">Image</th>
          <th scope="col">Make</th>
          <th scope="col">Model</th>
          <th scope="col">Type</th>
          <th scope="col">Fuel</th>
          <th scope="col">NoPas</th>
          <th scope="col">Day/Rs</th>
          <th scope="col">Month/Rs</th>
          <th scope="col">Km/Rs</th>
          <th scope="col">Avail</th>
        </tr>
        </thead>
        <tbody id="tblCar">
        <tr>
          <td>KL-1234</td>
          <td><img src="assets/images/Genaral/alto-m/1.png" width="100" alt="1234"></td>
          <td>Suzuki</td>
          <td>Alto</td>
          <td>Genaral</td>
          <td>Petrol</td>
          <td>4</td>
          <td>2400</td>
          <td>62000</td>
          <td>100</td>
          <td class="text-success">Yes</td>
        </tr>
        <tr>
          <td>KL-6245</td>
          <td><img src="assets/images/Genaral/alto-m/2.png" width="100"  alt="1234"></td>
          <td>Suzuki</td>
          <td>Alto</td>
          <td>Genaral</td>
          <td>Petrol</td>
          <td>4</td>
          <td>2400</td>
          <td>62000</td>
          <td>100</td>
          <td class="text-success">Yes</td>
        </tr>
        <tr>
          <td>KL-3244</td>
          <td><img src="assets/images/Genaral/alto-m/3.png" width="100"  alt="1234"></td>
          <td>Suzuki</td>
          <td>Alto</td>
          <td>Genaral</td>
          <td>Petrol</td>
          <td>4</td>
          <td>2400</td>
          <td>62000</td>
          <td>100</td>
          <td class="text-danger">No</td>
        </tr>
        <tr>
          <td>KL-3244</td>
          <td><img src="assets/images/Genaral/alto-m/4.png" width="100"  alt="1234"></td>
          <td>Bmw</td>
          <td>Alto</td>
          <td>Genaral</td>
          <td>Petrol</td>
          <td>4</td>
          <td>2400</td>
          <td>62000</td>
          <td>100</td>
          <td class="text-success">Yes</td>
        </tr>
        <tr>
          <td>KL-3244</td>
          <td><img src="assets/images/Genaral/alto-m/5.png" width="100"  alt="1234"></td>
          <td>Suzuki</td>
          <td>Alto</td>
          <td>Genaral</td>
          <td>Petrol</td>
          <td>4</td>
          <td>2400</td>
          <td>62000</td>
          <td>100</td>
          <td class="text-success">Yes</td>
        </tr>
        <tr>
          <td>KL-3244</td>
          <td><img src="assets/images/Genaral/alto-m/6.png" width="100"  alt="1234"></td>
          <td>Suzuki</td>
          <td>Alto</td>
          <td>Genaral</td>
          <td>Petrol</td>
          <td>4</td>
          <td>2400</td>
          <td>62000</td>
          <td>100</td>
          <td class="text-success">Yes</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
</div>

<!--Customer Management-->
<div id="customerPage">
  <div class="container">
    <div class="mt-md-4 mb-md-4">
      <h1>Customers</h1>
      <div class="row ">
        <div class="col-5">
          <form id="fromCustomer">
            <div class="row mt-4">
              <div class="col">
                <label for="txtcus_nic">NIC Number</label>
                <input type="text" class="form-control" id="txtcus_nic" name="txtcus_nic" placeholder="200023563389">
              </div>
              <div class="col">
                <label for="txtcus_name">Name</label>
                <input type="text" class="form-control" id="txtcus_name" name="txtcus_name" placeholder="Pasan Kumara">
              </div>
            </div>
            <div class="row mt-4">
              <div class="col">
                <label for="txtcus_address">Address</label>
                <input type="text" class="form-control" id="txtcus_address" name="txtcus_address" placeholder="721/C, Galle.">
              </div>
            </div>
            <div class="row mt-4">
              <div class="col">
                <label for="txtcus_contact">Contact Number</label>
                <input type="text" class="form-control" id="txtcus_contact" name="txtcus_contact" placeholder="0712345678">
              </div>
              <div class="col">
                <label for="txtcus_email">Address</label>
                <input type="text" class="form-control" id="txtcus_email" name="txtcus_email" placeholder="example@email.com">
              </div>
            </div>
            <div class="form-group row mt-4">
              <div class="col">
                <label for="img_nic">NIC Image</label>
                <input type="file" class="form-control-file" id="img_nic">
                <small>Upload a valid NIC or Driving License</small>
              </div>
              <div class="col btn-group">
                <button class="btn btn-success" type="button" id="btnSaveCus">Save</button>
                <button class="btn btn-warning" type="button" id="btnUpdateCus">Update</button>
                <button class="btn btn-danger" type="button" id="btnDeleteCus">Delete</button>
              </div>
            </div>
          </form>

        </div>



        <!--  Customer table-->
        <div class="col-7">
          <table class="table shadow">
            <thead class="thead-dark">
            <tr>
              <th scope="col">Id</th>
              <th scope="col">NIC</th>
              <th scope="col">Name</th>
              <th scope="col">Address</th>
              <th scope="col">Contact</th>
              <th scope="col">Email</th>
            </tr>
            </thead>
            <tbody id="tblCustomer">
            <tr>
              <td>CS-001</td>
              <td>200113203389</td>
              <td>Saman Kumara</td>
              <td>721/C, Galle</td>
              <td>0788899144</td>
              <td>contact@gmail.com</td>
            </tr>
            <tr>
              <td>CS-002</td>
              <td>20014123403389</td>
              <td>Gayan Withana</td>
              <td>Colombo</td>
              <td>0721345687</td>
              <td>contact@gmail.com</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!--Driver Management-->
<div id="driverPage">
  <div class="container">
    <div class="mt-md-4 mb-md-4">
      <h1>Drivers</h1>
      <div class="row ">
        <div class="col-4">
          <form>
            <div class="row mt-4">
              <div class="col">
                <label for="txtdr_lic">License Number</label>
                <input type="text" class="form-control" id="txtdr_lic" placeholder="B12345678">
              </div>
              <div class="col">
                <label for="txtdr_name">Name</label>
                <input type="text" class="form-control" id="txtdr_name" placeholder="Pasan Kumara">
              </div>
            </div>
            <div class="row mt-4">
              <div class="col">
                <label for="txtdr_contact">Contact Number</label>
                <input type="text" class="form-control" id="txtdr_contact" placeholder="0712345678">
              </div>
            </div>
            <div class="form-group row mt-4">
              <div class="col-3 btn-group">
                <button class="btn btn-success">Save</button>
                <button class="btn btn-warning">Update</button>
                <button class="btn btn-danger">Delete</button>
              </div>
            </div>
          </form>

        </div>



        <!--  Driver table-->
        <div class="col-8">
          <table class="table shadow">
            <thead class="thead-dark">
            <tr>
              <th scope="col">Id</th>
              <th scope="col">License Number</th>
              <th scope="col">Name</th>
              <th scope="col">Contact</th>
              <th scope="col">Availability</th>
            </tr>
            </thead>
            <tbody id="tblDriver">
            <tr>
              <td>DR-001</td>
              <td>B3203389</td>
              <td>Saman Kumara</td>
              <td>0788899144</td>
              <td>Yes</td>
            </tr>
            <tr>
              <td>DR-002</td>
              <td>B1324568</td>
              <td>Sadun Widuranga</td>
              <td>0713284658</td>
              <td>Yes</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="assets/js/jquery-3.6.1.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>

<script>

  let baseURL = "http://localhost:8080/easycar/"

  $("#dashboardNav").click(function (){
    $("#dashboardPage").css("display" , "block");
    $("#carPage").css("display", "none");
    $("#customerPage").css("display", "none");
    $("#driverPage").css("display", "none");
  });

  $("#carsNav").click(function (){
    $("#dashboardPage").css("display" , "none");
    $("#carPage").css("display", "block");
    $("#customerPage").css("display", "none");
    $("#driverPage").css("display", "none");
  });

  $("#customersNav").click(function (){
    $("#dashboardPage").css("display" , "none");
    $("#carPage").css("display", "none");
    $("#customerPage").css("display", "block");
    $("#driverPage").css("display", "none");
  });

  $("#driversNav").click(function (){
    $("#dashboardPage").css("display" , "none");
    $("#carPage").css("display", "none");
    $("#customerPage").css("display", "none");
    $("#driverPage").css("display", "block");
  });

    $("#tblCustomer>tr").click(function () {
      let cusNic = $(this).children(":eq(1)").text();
      let cusName = $(this).children(":eq(2)").text();
      let cusAddress = $(this).children(":eq(3)").text();
      let cusContact = $(this).children(":eq(4)").text();
      let cusEmail = $(this).children(":eq(5)").text();

      $('#txtcus_nic').val(cusNic);
      $('#txtcus_name').val(cusName);
      $('#txtcus_address').val(cusAddress);
      $('#txtcus_contact').val(cusContact);
      $('#txtcus_email').val(cusEmail);
    });

    $("#tblCar>tr").click(function (){
      let carReg = $(this).find("td:eq(0)").text();
      let carMake =$(this).find("td:eq(2)").text();
      let carModel = $(this).find("td:eq(3)").text();
      let carType = $(this).find("td:eq(4)").text();
      let carFuel = $(this).find("td:eq(5)").text();
      let carPas = $(this).find("td:eq(6)").text();
      let carDay = $(this).find("td:eq(7)").text();
      let carMonth = $(this).find("td:eq(8)").text();
      let carKm = $(this).find("td:eq(9)").text();

      $('#txtCar_reg').val(carReg);
      $('#txtCar_make').val(carMake);
      $('#txtCar_model').val(carModel);
      $('#txtCar_type').val(carType);
      $('#txtCar_fuel').val(carFuel);
      $('#txtCar_day').val(carDay);
      $('#txtCar_month').val(carMonth);
      $('#txtCar_km').val(carKm);
    });

  $("#tblDriver>tr").click(function () {
    let drId = $(this).find("td:eq(0)").text();
    let drLic = $(this).find("td:eq(1)").text();
    let drName = $(this).find("td:eq(2)").text();
    let drContact = $(this).find("td:eq(3)").text();
    let drAvail = $(this).find("td:eq(4)").text();


    $('#txtdr_lic').val(drLic);
    $('#txtdr_name').val(drName);
    $('#txtdr_contact').val(drContact);

  });

  $("#btnSaveCus").click(function (){
    let formCusData = $("#fromCustomer").serialize();
    $.ajax({
      url: baseURL+"customer",
      method:"post",
      data: formCusData,
      dataType: "json",
      success: function (res){
        alert("Success "+res.toString());
        console.log("Success : "+res)
      },
      error: function (err){
        alert("Error" +err.toString());
        console.log("Error : "+err)
      }
    });
  });

  $("#btnSaveCar").click(function (){
    let formCarData = $("#formCar").serialize();
    $.ajax({
      url: baseURL+"car",
      method:"post",
      data: formCarData,
      dataType: "json",
      success: function (res){
        alert("Success "+res.toString());
        console.log("Success : "+res)
      },
      error: function (err){
        alert("Error" +err.toString());
        console.log("Error : "+err)
      }
    });
  });



</script>
</body>
</html>